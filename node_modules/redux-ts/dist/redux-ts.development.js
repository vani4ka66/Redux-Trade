/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/helpers/redux.helpers.ts":
/*!**************************************!*\
  !*** ./src/helpers/redux.helpers.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.createAction = function (type) {
    var creator = function (payload, meta) { return ({
        payload: payload,
        meta: meta,
        type: type,
    }); };
    creator.type = type;
    return creator;
};
/**
* Dummy function to return `MapDispatchToPropsParam` type that can be passed to `connect`
* As paramter, either mapper function which takes dispatch object and returns indexer object or indexer object is required
* ex.
* const changeLayout = createAction('changeLayout')
* const dispatchedProps = mapDispatchToProps((dispatch, own) => ({ changeLayout: () => dispatch(changeLayout()) }))
* // or
* const dispatchedProps = mapDispatchToProps({ changeLayout }))
*
* @param {*} map
*/
exports.mapDispatchToProps = function (map) { return function (dispatch, own) {
    var mapper = function (m) {
        return Object.keys(m).reduce(function (prev, key) {
            var _a;
            return (__assign(__assign({}, prev), (_a = {}, _a[key] = function () {
                var params = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    params[_i] = arguments[_i];
                }
                return dispatch(m[key].apply(m, params));
            }, _a)));
        }, {});
    };
    return typeof map === 'function' ? mapper(map(dispatch, own)) : mapper(map);
}; };


/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
Object.defineProperty(exports, "__esModule", { value: true });
__webpack_require__(/*! ./polyfills/promise.polyfill */ "./src/polyfills/promise.polyfill.ts");
__export(__webpack_require__(/*! ./reducer.builder */ "./src/reducer.builder.ts"));
__export(__webpack_require__(/*! ./store.builder */ "./src/store.builder.ts"));
__export(__webpack_require__(/*! ./helpers/redux.helpers */ "./src/helpers/redux.helpers.ts"));


/***/ }),

/***/ "./src/polyfills/promise.polyfill.ts":
/*!*******************************************!*\
  !*** ./src/polyfills/promise.polyfill.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Promise['defer'] = function deferPolyfill() {
    var deferred = {};
    var promise = new Promise(function (resolve, reject) {
        deferred.resolve = resolve;
        deferred.reject = reject;
    });
    deferred.promise = promise;
    return deferred;
};


/***/ }),

/***/ "./src/reducer.builder.ts":
/*!********************************!*\
  !*** ./src/reducer.builder.ts ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var ReducerBuilder = /** @class */ (function () {
    function ReducerBuilder() {
        this.actions = {};
    }
    /**
     * Initial state of the reducer
     *
     * @param {State} state State object
     * @returns
     * @memberof ReducerBuilder
     */
    ReducerBuilder.prototype.init = function (state) {
        this.initState = state;
        return this;
    };
    /**
     * Consumer definition for given action type
     *
     * @template TPayload Action payload type
     * @param {ActionCreatorDefinition<TPayload>} creator Action creator function
     * @param {ActionBody<State, Action<TPayload>>} body Action body
     * @returns
     * @memberof ReducerBuilder
     */
    ReducerBuilder.prototype.handle = function (creator, body) {
        this.actions[creator.type] = body;
        return this;
    };
    ReducerBuilder.prototype.build = function (dispatchPromise) {
        var _this = this;
        return function (state, action) {
            if (state === void 0) { state = _this.initState; }
            var actionBody = _this.actions[action.type];
            var lazyDispatch = function (nestedAction) {
                return dispatchPromise.then(function (dispatch) { return dispatch(nestedAction); });
            };
            if (!!actionBody) {
                return actionBody(state, action, lazyDispatch);
            }
            return state;
        };
    };
    return ReducerBuilder;
}());
exports.ReducerBuilder = ReducerBuilder;


/***/ }),

/***/ "./src/store.builder.ts":
/*!******************************!*\
  !*** ./src/store.builder.ts ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __spreadArrays = (this && this.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var react_redux_1 = __webpack_require__(/*! react-redux */ "react-redux");
var redux_1 = __webpack_require__(/*! redux */ "redux");
var StoreBuilder = /** @class */ (function () {
    function StoreBuilder() {
        this.composeEnhancers = redux_1.compose;
        this.middlewares = [];
        this.reducers = {};
        this.reducerBuilders = {};
        this.initialState = {};
        this.enhancers = [];
    }
    /**
     * Register given middlewares.
     *
     * _Execution order will be same as registration order._
     *
     * @param {Middleware} middleware
     * @returns
     * @memberof StoreBuilder
     */
    StoreBuilder.prototype.withMiddleware = function () {
        var _a;
        var middleware = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            middleware[_i] = arguments[_i];
        }
        (_a = this.middlewares).push.apply(_a, middleware);
        return this;
    };
    /**
     * Initial value of store state
     *
     * @param {DeepPartial<StoreType>} state
     * @returns
     * @memberof StoreBuilder
     */
    StoreBuilder.prototype.withInitialState = function (state) {
        this.initialState = state;
        return this;
    };
    /**
     * Register pure redux reducer with given name
     *
     * @param {string} name Name of the reducer. _(should be same as store field name)_
     * @param {Reducer} reducer Reducer instance
     * @returns
     * @memberof StoreBuilder
     */
    StoreBuilder.prototype.withReducer = function (name, reducer) {
        this.reducers[name] = reducer;
        return this;
    };
    /**
     * Register *ReducerBuilder* instance
     *
     * @param {string} name Name of the reducer. _(should be same as store field name)_
     * @param {ReducerBuilder} reducerBuilder ReducerBuilder instance
     * @returns
     * @memberof StoreBuilder
     */
    StoreBuilder.prototype.withReducerBuilder = function (name, reducerBuilder) {
        this.reducerBuilders[name] = reducerBuilder;
        return this;
    };
    /**
     * Register list of pure reducer functions with given name
     *
     * @param {ReducersMapObject} reducers List of reducers
     * @returns
     * @memberof StoreBuilder
     */
    StoreBuilder.prototype.withReducersMap = function (reducers) {
        this.reducers = __assign(__assign({}, this.reducers), reducers);
        return this;
    };
    /**
     * Register list of ReducerBuilder objects with given name
     *
     * @param {ReducerBuilderMap} reducerBuilders List of ReducerBuilder objects
     * @returns
     * @memberof StoreBuilder
     */
    StoreBuilder.prototype.withReducerBuildersMap = function (reducerBuilders) {
        this.reducerBuilders = __assign(__assign({}, this.reducerBuilders), reducerBuilders);
        return this;
    };
    /**
     * Register given enhancer
     *
     * _Execution order will be same as registration order._
     *
     * @param {StoreEnhancer} enhancer
     * @returns
     * @memberof StoreBuilder
     */
    StoreBuilder.prototype.withEnhancer = function () {
        var _a;
        var enhancers = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            enhancers[_i] = arguments[_i];
        }
        (_a = this.enhancers).push.apply(_a, enhancers);
        return this;
    };
    /**
     * Enable chrome devtools
     *
     * @returns
     * @memberof StoreBuilder
     */
    StoreBuilder.prototype.withDevTools = function () {
        this.composeEnhancers =
            window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ||
                this.composeEnhancers;
        return this;
    };
    /**
     * Build an instance of store with configured values.
     *
     * @returns {Store<StoreType>}
     * @memberof StoreBuilder
     */
    StoreBuilder.prototype.build = function () {
        var _this = this;
        var defer = Promise.defer();
        var reducerMap = Object.keys(this.reducerBuilders).reduce(function (p, r) {
            var _a;
            return (__assign(__assign({}, p), (_a = {}, _a[r] = _this.reducerBuilders[r].build(defer.promise), _a)));
        }, this.reducers);
        var middlewares = redux_1.applyMiddleware.apply(void 0, this.middlewares);
        var reducer = redux_1.combineReducers(reducerMap);
        var enhancer = this.composeEnhancers.apply(this, __spreadArrays([middlewares], this.enhancers));
        var store = redux_1.createStore(reducer, this.initialState, enhancer);
        defer.resolve(store.dispatch);
        return __assign(__assign({}, store), { connected: function (mapStateToProps, mapDispatchToProps) {
                return mapDispatchToProps
                    ? react_redux_1.connect(mapStateToProps, mapDispatchToProps)
                    : react_redux_1.connect(mapStateToProps);
            }, mapStoreToProps: function (map) { return map; } });
    };
    return StoreBuilder;
}());
exports.StoreBuilder = StoreBuilder;


/***/ }),

/***/ 0:
/*!****************************!*\
  !*** multi ./src/index.ts ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! ./src/index.ts */"./src/index.ts");


/***/ }),

/***/ "react-redux":
/*!******************************!*\
  !*** external "react-redux" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("react-redux");

/***/ }),

/***/ "redux":
/*!************************!*\
  !*** external "redux" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("redux");

/***/ })

/******/ });
//# sourceMappingURL=redux-ts.development.js.map